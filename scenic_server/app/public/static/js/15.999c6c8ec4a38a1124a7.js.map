{"version":3,"sources":["webpack:///src/views/main/detail/map.vue","webpack:///./src/views/main/detail/map.vue?3e1e","webpack:///./src/views/main/detail/map.vue"],"names":["map","props","components","Header","Head","data","jgNameDialog","show","postionMap","lng","lat","location","keyword","zoom","address","add","siteName","site","jd","wd","desce","type","jgName","jgNum","organizationData","computed","methods","getPoint","e","_this","this","point","target","getZoom","BMap","Geocoder","getLocation","rs","console","log","addressComponents","province","city","district","street","streetNumber","surroundingPois","business","infoWindowClose","infoWindowOpen","_this2","setInterval","created","_this3","id","$route","query","Object","api","then","res","result","mounted","detail_map","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","directives","name","rawName","value","expression","domProps","on","input","$event","composing","center","scroll-wheel-zoom","click","map-types","anchor","staticStyle","display","auto-viewport","position","font-size","close","open","_s","isOpen","showAddressBar","autoLocation","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.999c6c8ec4a38a1124a7.js","sourcesContent":["<template>\r\n  <div class=\"mapp\">\r\n    <Header title=\"景点导航\"></Header>\r\n    <label class=\"inp\">\r\n      地址：\r\n      <input v-model=\"keyword\" />\r\n    </label>\r\n    <baidu-map\r\n      class=\"map\"\r\n      id=\"mapID\"\r\n      :center=\"postionMap\"\r\n      :zoom=\"zoom\"\r\n      :scroll-wheel-zoom=\"true\"\r\n      @click=\"getPoint\"\r\n    >\r\n      <bm-map-type\r\n        :map-types=\"['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP']\"\r\n        anchor=\"BMAP_ANCHOR_TOP_LEFT\"\r\n      ></bm-map-type>\r\n      <bm-local-search\r\n        :keyword=\"keyword\"\r\n        :auto-viewport=\"true\"\r\n        :location=\"location\"\r\n        zoom=\"15\"\r\n        style=\"display: none\"\r\n      ></bm-local-search>\r\n      <bm-marker :position=\"postionMap\">\r\n        <bm-info-window\r\n          :show=\"show\"\r\n          @close=\"infoWindowClose\"\r\n          @open=\"infoWindowOpen\"\r\n          style=\"font-size: 14px\"\r\n        >\r\n          <p>站点：{{ add.siteName }}</p>\r\n          <p>站点地址：{{ add.site }}</p>\r\n        </bm-info-window>\r\n      </bm-marker>\r\n      <bm-scale anchor=\"BMAP_ANCHOR_TOP_RIGHT\"></bm-scale>\r\n      <bm-navigation anchor=\"BMAP_ANCHOR_BOTTOM_LEFT\"></bm-navigation>\r\n      <bm-overview-map anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\" :isOpen=\"true\"></bm-overview-map>\r\n      <bm-geolocation anchor=\"BMAP_ANCHOR_BOTTOM_RIGHT\" :showAddressBar=\"true\" :autoLocation=\"true\"></bm-geolocation>\r\n      <bm-city-list anchor=\"BMAP_ANCHOR_TOP_LEFT\"></bm-city-list>\r\n      <bm-panorama></bm-panorama>\r\n    </baidu-map>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Header from \"@/components/Head.vue\";\r\nimport { getLngLat } from \"@/api/index\";\r\nexport default {\r\n  props: {},\r\n  components: { Header },\r\n  data() {\r\n    return {\r\n      jgNameDialog: false,\r\n      show: false,\r\n      postionMap: {\r\n        //地图坐标\r\n        lng: \"\",\r\n        lat: \"\"\r\n      },\r\n      location: \"\",\r\n      keyword: \"\", //搜索框关键词\r\n      zoom: 15, //放大比例\r\n      address: \"\", //位置详细信息\r\n      add: {\r\n        siteName: \"\",\r\n        site: \"\",\r\n        jd: \"\",\r\n        wd: \"\",\r\n        desce: \"\",\r\n        type: \"\",\r\n        jgName: \"\",\r\n        jgNum: \"\"\r\n      },\r\n      organizationData: [],\r\n      jgName: \"\"\r\n    };\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    getPoint(e) {\r\n      //点击地图获取一些信息，\r\n      this.show = true;\r\n      this.postionMap.lng = e.point.lng; //通过  e.point.lng获取经度\r\n      this.postionMap.lat = e.point.lat; //通过  e.point.lat获取纬度\r\n      this.add.jd = e.point.lng;\r\n      this.add.wd = e.point.lat;\r\n      this.zoom = e.target.getZoom();\r\n      let geocoder = new BMap.Geocoder(); //创建地址解析器的实例\r\n      geocoder.getLocation(e.point, rs => {\r\n        this.add.site = rs.address;\r\n        //地址描述(string)=\r\n        console.log(rs.address); //这里打印可以看到里面的详细地址信息，可以根据需求选择想要的\r\n        console.log(rs.addressComponents); //结构化的地址描述(object)\r\n        console.log(rs.addressComponents.province); //省\r\n        console.log(rs.addressComponents.city); //城市\r\n        console.log(rs.addressComponents.district); //区县\r\n        console.log(rs.addressComponents.street); //街道\r\n        console.log(rs.addressComponents.streetNumber); //门牌号\r\n        console.log(rs.surroundingPois); //附近的POI点(array)\r\n        console.log(rs.business); //商圈字段，代表此点所属的商圈(string)\r\n      });\r\n    },\r\n    infoWindowClose() {\r\n      this.show = false;\r\n    },\r\n    infoWindowOpen() {\r\n      setInterval(() => {\r\n        this.show = true;\r\n      }, 100);\r\n    }\r\n  },\r\n  created() {\r\n    let { id } = this.$route.query;\r\n    getLngLat(id).then(res => {\r\n      this.postionMap.lng = res.result[0].lng;\r\n      this.postionMap.lat = res.result[0].lat;\r\n      this.zoom = res.result[0].zoom;\r\n    });\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.mapp {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.map {\r\n  flex: 1;\r\n  overflow: auto;\r\n}\r\n.inp {\r\n  width: 100%;\r\n  height: 1rem;\r\n  font-size: 0.3rem;\r\n  line-height: 1rem;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/main/detail/map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mapp\"},[_c('Header',{attrs:{\"title\":\"景点导航\"}}),_vm._v(\" \"),_c('label',{staticClass:\"inp\"},[_vm._v(\"\\n    地址：\\n    \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],domProps:{\"value\":(_vm.keyword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}})]),_vm._v(\" \"),_c('baidu-map',{staticClass:\"map\",attrs:{\"id\":\"mapID\",\"center\":_vm.postionMap,\"zoom\":_vm.zoom,\"scroll-wheel-zoom\":true},on:{\"click\":_vm.getPoint}},[_c('bm-map-type',{attrs:{\"map-types\":['BMAP_NORMAL_MAP', 'BMAP_HYBRID_MAP'],\"anchor\":\"BMAP_ANCHOR_TOP_LEFT\"}}),_vm._v(\" \"),_c('bm-local-search',{staticStyle:{\"display\":\"none\"},attrs:{\"keyword\":_vm.keyword,\"auto-viewport\":true,\"location\":_vm.location,\"zoom\":\"15\"}}),_vm._v(\" \"),_c('bm-marker',{attrs:{\"position\":_vm.postionMap}},[_c('bm-info-window',{staticStyle:{\"font-size\":\"14px\"},attrs:{\"show\":_vm.show},on:{\"close\":_vm.infoWindowClose,\"open\":_vm.infoWindowOpen}},[_c('p',[_vm._v(\"站点：\"+_vm._s(_vm.add.siteName))]),_vm._v(\" \"),_c('p',[_vm._v(\"站点地址：\"+_vm._s(_vm.add.site))])])],1),_vm._v(\" \"),_c('bm-scale',{attrs:{\"anchor\":\"BMAP_ANCHOR_TOP_RIGHT\"}}),_vm._v(\" \"),_c('bm-navigation',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_LEFT\"}}),_vm._v(\" \"),_c('bm-overview-map',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_RIGHT\",\"isOpen\":true}}),_vm._v(\" \"),_c('bm-geolocation',{attrs:{\"anchor\":\"BMAP_ANCHOR_BOTTOM_RIGHT\",\"showAddressBar\":true,\"autoLocation\":true}}),_vm._v(\" \"),_c('bm-city-list',{attrs:{\"anchor\":\"BMAP_ANCHOR_TOP_LEFT\"}}),_vm._v(\" \"),_c('bm-panorama')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-119df658\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/main/detail/map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-119df658\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./map.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-119df658\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-119df658\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/main/detail/map.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}